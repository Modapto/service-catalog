{"id":"","name":"MODAPTO DRT UTILS","description":"MODAPTO DRT UTILS","public":true,"defaultOperationId":"publishSchema","operations":{"publishSchema":{"name":"publishSchema","description":"publishSchema","isDefault":true,"autostart":false,"configuration":{"connectorId":"org.adoxx.microservice.api.connectors.impl.JMS11PublisherConnector","outputDescription":"","outputAdaptationAlgorithm":"","statusCheckAlgorithm":"","configStart":{"url":{"value":"kafka.modapto.atc.gr:9092"},"contextName":{"value":"Kafka"},"connectionFactoryLookupName":{"value":"ConnectionFactory"}},"configCall":{"topicName":{"value":"production-schema-registration"},"properties":{"value":"{}"},"message":{"value":"$json"},"messageType":{"value":"Text"},"persistenceMode":{"value":"NON_PERSISTENT"}},"inputs":{"json":{"matchingName":"$json","description":"json","workingExample":"{}"}}}},"convertBPMN2JSON":{"name":"convertBPMN2JSON","description":"convertBPMN2JSON","isDefault":false,"autostart":false,"configuration":{"connectorId":"org.adoxx.microservice.api.connectors.impl.JavascriptEngineConnector","outputDescription":"","outputAdaptationAlgorithm":"","statusCheckAlgorithm":"","configStart":{},"configCall":{"algorithm":{"value":"var bpmn = '$bpmn';\nload('https://raw.githubusercontent.com/damianofalcioni/pjxml/master/js/pjxml.js');\n\nvar converted = pjXML.parse(bpmn);\nout(converted.content[1]);"}},"inputs":{"bpmn":{"matchingName":"$bpmn","description":"bpmn","workingExample":""}}}},"uploadSchema":{"name":"uploadSchema","description":"uploadSchema","isDefault":false,"autostart":false,"configuration":{"connectorId":"org.adoxx.microservice.api.connectors.impl.ContentReceiverConnector","outputDescription":"","outputAdaptationAlgorithm":"var fileId = output.fileId;\nvar bpmn = callMicroserviceNT('92d44336-4d0f-42cd-a944-8611b3cc4aa6', 'retrieveSchema', {id:{value: fileId }}).dataText;\nbpmn = bpmn.replace('<?xml version=\"1.0\"?>', '');\n\nload('https://raw.githubusercontent.com/damianofalcioni/pjxml/master/js/pjxml.js');\nvar converted = pjXML.parse(bpmn);\nvar final = converted.content[1];\n\nvar res = callMicroserviceNT('92d44336-4d0f-42cd-a944-8611b3cc4aa6', 'publishSchema', {json:{value: JSON.stringify(final) }});\nout(res);","statusCheckAlgorithm":"","configStart":{"rootFolderName":{"value":""}},"configCall":{"fileContent":{"value":"$bpmn"},"fileContentB64":{"value":""},"fileContentRemote":{"value":""},"fileName":{"value":"schema.bpmn"}},"inputs":{"bpmn":{"matchingName":"$bpmn","description":"bpmn","workingExample":""}}}},"retrieveSchema":{"name":"retrieveSchema","description":"retrieveSchema","isDefault":false,"autostart":false,"configuration":{"connectorId":"org.adoxx.microservice.api.connectors.impl.ContentProviderConnector","outputDescription":"","outputAdaptationAlgorithm":"","statusCheckAlgorithm":"","configStart":{},"configCall":{"content":{"value":""},"fileId":{"value":"$id"},"contentType":{"value":"Text"},"contentMIME":{"value":""}},"inputs":{"id":{"matchingName":"$id","description":"id","workingExample":""}}}},"orchestrated":{"name":"orchestrated","description":"orchestrated","isDefault":false,"autostart":false,"configuration":{"connectorId":"org.adoxx.microservice.api.connectors.impl.JavascriptEngineConnector","outputDescription":"","outputAdaptationAlgorithm":"","statusCheckAlgorithm":"","configStart":{},"configCall":{"algorithm":{"value":"var fileId = '$fileId';\nvar bpmn = callMicroserviceNT('92d44336-4d0f-42cd-a944-8611b3cc4aa6', 'retrieveSchema', {id:{value: fileId }}).dataText;\nbpmn = bpmn.replace('<?xml version=\"1.0\"?>', '');\n\nload('https://raw.githubusercontent.com/damianofalcioni/pjxml/master/js/pjxml.js');\nvar converted = pjXML.parse(bpmn);\nvar final = converted.content[1];\n\nvar res = callMicroserviceNT('92d44336-4d0f-42cd-a944-8611b3cc4aa6', 'publishSchema', {json:{value: JSON.stringify(final) }});\nout(res);"}},"inputs":{"fileId":{"matchingName":"$fileId","description":"","workingExample":""}}}}},"moreInfos":{"ownerHtml":"<a href=\"http://www.adoxx.org\">ADOxx Team</a>","presentationImageUrl":"https://www.adoxx.org/live/image/layout_set_logo?img_id=179909&t=1521267871183","descriptionHtml":"<p>Hello World Microservice</p>","visible":true}}